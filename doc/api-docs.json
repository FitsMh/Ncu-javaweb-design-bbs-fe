{"openapi":"3.0.1","info":{"title":"BBS论坛系统API","description":"基于SpringBoot3 + MySQL + Vue3的BBS论坛系统后端API文档","contact":{"name":"开发团队","email":"dev@example.com"},"version":"1.0.0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"security":[{"Bearer Authentication":[]}],"tags":[{"name":"评论管理","description":"评论相关接口"},{"name":"用户管理","description":"用户相关接口"},{"name":"板块管理","description":"板块相关接口"},{"name":"帖子管理","description":"帖子相关接口"},{"name":"管理员功能","description":"管理员专用接口"}],"paths":{"/api/users/profile":{"get":{"tags":["用户管理"],"summary":"获取用户信息","description":"获取当前登录用户的个人信息","operationId":"getProfile","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultUser"}}}}}},"put":{"tags":["用户管理"],"summary":"更新用户信息","description":"更新当前登录用户的个人信息","operationId":"updateProfile","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultString"}}}}}}},"/api/sections/{id}":{"get":{"tags":["板块管理"],"summary":"根据ID获取板块","description":"根据板块ID获取板块详细信息","operationId":"getSectionById","parameters":[{"name":"id","in":"path","description":"板块ID","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultSection"}}}}}},"put":{"tags":["板块管理"],"summary":"更新板块","description":"更新指定板块的信息（需要管理员权限）","operationId":"updateSection","parameters":[{"name":"id","in":"path","description":"板块ID","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SectionUpdateDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultString"}}}}}},"delete":{"tags":["板块管理"],"summary":"删除板块","description":"删除指定的板块（需要管理员权限）","operationId":"deleteSection","parameters":[{"name":"id","in":"path","description":"板块ID","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultString"}}}}}}},"/api/posts/{id}":{"get":{"tags":["帖子管理"],"summary":"获取帖子详情","description":"根据帖子ID获取帖子详细信息","operationId":"getPostById","parameters":[{"name":"id","in":"path","description":"帖子ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultPost"}}}}}},"put":{"tags":["帖子管理"],"summary":"更新帖子","description":"更新帖子信息（仅作者和管理员可操作）","operationId":"updatePost","parameters":[{"name":"id","in":"path","description":"帖子ID","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostCreateDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultString"}}}}}},"delete":{"tags":["帖子管理"],"summary":"删除帖子","description":"删除帖子（仅作者可操作）","operationId":"deletePost","parameters":[{"name":"id","in":"path","description":"帖子ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultString"}}}}}}},"/api/admin/users/{id}/points":{"put":{"tags":["管理员功能"],"summary":"调整用户积分","description":"增加或减少用户积分（管理员权限）","operationId":"adjustUserPoints","parameters":[{"name":"id","in":"path","description":"用户ID","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"integer","format":"int32"},"description":"积分调整信息"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultString"}}}}}}},"/api/admin/posts/{id}/pin":{"put":{"tags":["管理员功能"],"summary":"置顶帖子","description":"设置或取消帖子置顶状态（管理员权限）","operationId":"pinPost","parameters":[{"name":"id","in":"path","description":"帖子ID","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"integer","format":"int32"},"description":"置顶状态信息"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultString"}}}}}}},"/api/admin/posts/{id}/feature":{"put":{"tags":["管理员功能"],"summary":"加精帖子","description":"设置或取消帖子加精状态（管理员权限）","operationId":"featurePost","parameters":[{"name":"id","in":"path","description":"帖子ID","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"integer","format":"int32"},"description":"加精状态信息"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultString"}}}}}}},"/api/users/register":{"post":{"tags":["用户管理"],"summary":"用户注册","description":"新用户注册接口","operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRegisterDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultObject"}}}}}}},"/api/users/login":{"post":{"tags":["用户管理"],"summary":"用户登录","description":"用户登录接口","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLoginDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultObject"}}}}}}},"/api/users/checkin":{"post":{"tags":["用户管理"],"summary":"用户签到","description":"用户每日签到获取积分","operationId":"checkIn","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultObject"}}}}}}},"/api/sections":{"get":{"tags":["板块管理"],"summary":"获取所有板块","description":"获取系统中所有板块的列表","operationId":"getAllSections","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultListSection"}}}}}},"post":{"tags":["板块管理"],"summary":"创建板块","description":"创建新的板块（需要管理员权限）","operationId":"createSection","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SectionCreateDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultSection"}}}}}}},"/api/posts":{"get":{"tags":["帖子管理"],"summary":"获取帖子列表","description":"分页获取帖子列表，支持按板块筛选","operationId":"getPostList","parameters":[{"name":"page","in":"query","description":"页码，默认为1","required":false,"schema":{"type":"integer","format":"int32","default":1}},{"name":"size","in":"query","description":"每页大小，默认为10","required":false,"schema":{"type":"integer","format":"int32","default":10}},{"name":"sectionId","in":"query","description":"板块ID，可选","required":false,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultIPagePost"}}}}}},"post":{"tags":["帖子管理"],"summary":"发布帖子","description":"发布新帖子（需要登录）","operationId":"createPost","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostCreateDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultPost"}}}}}}},"/api/posts/{id}/like":{"post":{"tags":["帖子管理"],"summary":"点赞帖子","description":"为帖子点赞（需要登录）","operationId":"likePost","parameters":[{"name":"id","in":"path","description":"帖子ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultString"}}}}}}},"/api/comments":{"post":{"tags":["评论管理"],"summary":"发布评论","description":"发布新评论（需要登录）","operationId":"createComment","requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"},"description":"评论信息"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultComment"}}}}}}},"/api/comments/{id}/like":{"post":{"tags":["评论管理"],"summary":"点赞评论","description":"为评论点赞（需要登录）","operationId":"likeComment","parameters":[{"name":"id","in":"path","description":"评论ID","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultString"}}}}}}},"/api/posts/user/{userId}":{"get":{"tags":["帖子管理"],"summary":"获取用户发布的帖子","description":"分页获取指定用户发布的帖子列表","operationId":"getUserPosts","parameters":[{"name":"userId","in":"path","description":"用户ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"page","in":"query","description":"页码，默认为1","required":false,"schema":{"type":"integer","format":"int32","default":1}},{"name":"size","in":"query","description":"每页大小，默认为10","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultIPagePost"}}}}}}},"/api/comments/post/{postId}":{"get":{"tags":["评论管理"],"summary":"获取帖子评论","description":"根据帖子ID获取该帖子的所有评论","operationId":"getCommentsByPostId","parameters":[{"name":"postId","in":"path","description":"帖子ID","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultListComment"}}}}}}},"/api/comments/parent/{parentCommentId}":{"get":{"tags":["评论管理"],"summary":"获取子评论","description":"根据父评论ID获取子评论列表","operationId":"getCommentsByParentId","parameters":[{"name":"parentCommentId","in":"path","description":"父评论ID","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultListComment"}}}}}}},"/api/comments/{id}":{"delete":{"tags":["评论管理"],"summary":"删除评论","description":"删除评论（仅作者和管理员可操作）","operationId":"deleteComment","parameters":[{"name":"id","in":"path","description":"评论ID","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultString"}}}}}}}},"components":{"schemas":{"User":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"email":{"type":"string"},"password":{"type":"string"},"name":{"type":"string"},"contact":{"type":"string"},"jobType":{"type":"string"},"jobLocation":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"isAdmin":{"type":"string"},"userPoint":{"type":"integer","format":"int32"},"deleted":{"type":"integer","format":"int32"},"lastCheckInDate":{"type":"string","format":"date"}},"description":"用户信息"},"ResultString":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"type":"string"}}},"SectionUpdateDTO":{"type":"object","properties":{"name":{"type":"string","description":"板块名称","example":"技术讨论"},"description":{"type":"string","description":"板块描述","example":"技术相关话题讨论区"}},"description":"板块更新信息"},"PostCreateDTO":{"type":"object","properties":{"sectionId":{"type":"integer","format":"int32"},"title":{"type":"string"},"content":{"type":"string"},"isHelp":{"type":"integer","format":"int32"},"helpPoints":{"type":"integer","format":"int32"}},"description":"帖子信息"},"UserRegisterDTO":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"},"name":{"type":"string"}},"description":"用户注册信息"},"ResultObject":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"type":"object"}}},"UserLoginDTO":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}},"description":"用户登录信息"},"SectionCreateDTO":{"required":["name"],"type":"object","properties":{"name":{"type":"string","description":"板块名称","example":"技术讨论"},"description":{"type":"string","description":"板块描述","example":"技术相关话题讨论区"}},"description":"板块创建信息"},"ResultSection":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/Section"}}},"Section":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"name":{"type":"string"},"description":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"deleted":{"type":"integer","format":"int32"}}},"Post":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"userId":{"type":"integer","format":"int64"},"sectionId":{"type":"integer","format":"int32"},"title":{"type":"string"},"content":{"type":"string"},"isHelp":{"type":"integer","format":"int32"},"helpPoints":{"type":"integer","format":"int32"},"isPinned":{"type":"integer","format":"int32"},"isFeatured":{"type":"integer","format":"int32"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"viewCount":{"type":"integer","format":"int32"},"commentCount":{"type":"integer","format":"int32"},"likeCount":{"type":"integer","format":"int32"},"deleted":{"type":"integer","format":"int32"}}},"ResultPost":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/Post"}}},"Comment":{"type":"object","properties":{"commentId":{"type":"integer","format":"int32"},"postId":{"type":"integer","format":"int32"},"userId":{"type":"integer","format":"int32"},"parentCommentId":{"type":"integer","format":"int32"},"content":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"upvotes":{"type":"integer","format":"int32"},"deleted":{"type":"integer","format":"int32"}}},"ResultComment":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/Comment"}}},"ResultUser":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/User"}}},"ResultListSection":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/Section"}}}},"IPagePost":{"type":"object","properties":{"size":{"type":"integer","format":"int64"},"records":{"type":"array","items":{"$ref":"#/components/schemas/Post"}},"current":{"type":"integer","format":"int64"},"total":{"type":"integer","format":"int64"},"pages":{"type":"integer","format":"int64","deprecated":true}}},"ResultIPagePost":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/IPagePost"}}},"ResultListComment":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/Comment"}}}}},"securitySchemes":{"Bearer Authentication":{"type":"http","description":"请输入JWT Token","scheme":"bearer","bearerFormat":"JWT"}}}}